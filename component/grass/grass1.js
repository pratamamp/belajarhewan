import React, {useEffect, useRef} from 'react';
import Svg, {Path, G} from 'react-native-svg';
import {Animated, Easing} from 'react-native';

const AnimatedG = Animated.createAnimatedComponent(G);

function Grass1({width, height, isAnimated, style}) {
  const animRef = useRef(new Animated.Value(0)).current;
  const [pivotX, pivotY] = [175, 322];
  const animated = () => {
    Animated.sequence([
      Animated.timing(animRef, {
        toValue: 1,
        duration: 2000,
        easing: Easing.ease,
        useNativeDriver: true,
      }),

      Animated.timing(animRef, {
        toValue: 0,
        duration: 2000,
        easing: Easing.ease,
        useNativeDriver: true,
      }),
    ]).start(() => animated());
  };
  useEffect(() => {
    isAnimated && animated();
  }, []);
  return (
    <Svg
      width={width}
      height={height}
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 353 322"
      style={{...style}}>
      <Path
        d="M287.256 321c3.304-31.736 9.912-114.879 16.189-148.599 12.223-65.621 37.331-141.822 37.331-141.822s-44.93 87.771-63.265 137.359c-18.336 49.588-32.707 90.085-41.131 119.838-1.157 4.132-2.148 30.249-2.974 33.389h53.85V321zM121.907 321h26.099c-1.982-32.563-10.242-174.55-24.613-226.452C106.71 34.38 88.374 0 88.374 0s18.996 115.21 26.76 177.029c5.781 46.778 6.773 121.491 6.773 143.971z"
        fill="#5C975A"
      />
      <Path
        d="M108.361 321c-10.737-21.488-30.063-82.316-48.069-114.218C33.532 159.508 0 121.987 0 121.987s14.536 31.24 36.671 73.225c16.023 30.248 32.376 101.325 40.14 125.623h31.55V321z"
        fill="#79A85A"
      />
      <Path
        d="M82.923 269.759L84.575 321h36.175c-1.486-12.562-4.955-61.654-9.911-77.192-6.607-20.827-14.701-43.803-14.701-43.803s-35.185-70.084-44.765-78.184c-9.581-8.099-19.327 5.124-29.403 35.043-10.242 30.083-14.206 78.349-15.693 93.556-1.486 15.207-.495 29.422-.495 29.422s10.241-70.746 21.804-97.689c11.563-26.777 17.18-30.414 17.18-30.414s14.205 26.447 23.456 53.39c9.085 27.108 14.701 64.63 14.701 64.63z"
        fill="#5C975A"
      />
      <Path
        d="M97.624 320.174V321h38.654c-4.46-17.19-13.38-73.556-27.091-121.821C88.374 126.615 67.891 77.853 67.891 77.853s9.911 52.564 16.849 89.259c6.773 36.53 12.884 153.062 12.884 153.062z"
        fill="#79C732"
      />
      <Path
        d="M148.501 321l-4.46-262.982s-3.799 38.844-5.286 69.423c-1.321 25.456-12.058 157.69-15.693 193.559h25.439z"
        fill="#79A85A"
      />
      <Path
        d="M170.966 321c3.304-22.811 10.902-97.688 16.684-139.342 7.598-54.878 14.536-138.02 14.536-138.02s-20.648 68.596-35.019 121.325c-12.059 43.803-31.716 144.301-34.689 156.202h38.488V321z"
        fill="#5C975A"
      />
      <Path
        d="M246.621 321c3.964-44.629 10.902-149.095 12.554-187.443 2.313-54.216 1.487-118.185-.826-116.697 0 0-18.996 135.871-28.246 203.642-4.46 33.058-9.086 82.15-12.72 100.498h29.238zM316.99 321c1.651-10.248 3.634-44.133 5.451-53.225C327.066 244.965 353 146.45 353 146.45s-12.885 31.24-29.733 76.366c-9.416 25.455-21.64 77.522-30.394 98.184h24.117z"
        fill="#79A85A"
      />
      <Path
        d="M300.967 321c1.487-12.397 3.799-52.398 7.103-70.746 6.112-35.042 30.559-131.904 30.559-131.904s-15.197 28.926-28.247 67.936c-9.085 27.438-25.934 104.961-35.019 134.879h25.604V321z"
        fill="#79C732"
      />

      <Path
        d="M220.852 321c1.322-8.43 3.469-43.472 7.103-60.828 18.336-86.944 41.957-124.301 41.957-124.301s4.625 6.116 9.911 27.439 18.336 80.167 18.336 80.167 2.312-35.042-2.313-69.423-13.71-65.621-13.71-65.621-6.112-4.629-16.849-2.976c-10.737 1.488-14.536 1.488-34.359 42.646-16.518 34.216-31.88 144.467-36.671 173.062h26.595V321zM165.02 321h24.282c-.166-8.265-.166-41.158-.166-52.398 0-30.579 0-83.969-13.71-151.74-13.71-67.935-29.733-104.465-29.733-104.465s12.224 51.902 16.849 114.383c3.303 46.282 2.808 153.558 2.478 194.22z"
        fill="#79A85A"
        transform={`translate(-${pivotX} -${pivotY})`}
      />

      <G transform={`translate(${pivotX}, ${pivotY})`}>
        <AnimatedG
          style={{
            transform: [
              {
                rotate: animRef.interpolate({
                  inputRange: [0, 1],
                  outputRange: ['0deg', '10deg'],
                }),
              },
            ],
          }}>
          <Path
            d="M197.231 321c6.772-47.605 19.657-160.831 24.612-198.187 6.938-51.902 16.849-116.036 16.849-116.036s-32.707 111.408-48.729 180.831c-9.416 40.993-16.849 105.788-21.144 133.392h28.412zM230.103 321c7.598-48.1 5.946-107.276-1.322-155.376 18.336 51.241 27.091 101.49 34.194 155.376h-32.872z"
            fill="#79C732"
            transform={`translate(-${pivotX} -${pivotY})`}
          />
        </AnimatedG>
      </G>
    </Svg>
  );
}

export default Grass1;
